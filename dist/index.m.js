import e from"axios";function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t.apply(this,arguments)}var r=new(/*#__PURE__*/function(){function t(e){this.baseUrl=void 0,this.baseUrl=e}var r=t.prototype;return r.onSuccess=function(e){return e.data},r.onError=function(e){throw null==e?void 0:e.message},r.request=function(t){var r=t.method,n=t.endPoint,o=t.data,i=t.params,u=t.responseType;try{var c=this,s=/^https?:\/\//.test(n)?n:""+c.baseUrl+n;return Promise.resolve(e({method:r,url:s,responseType:u,data:o,headers:{Authorization:"Bearer uiAisOcQ4RqadFtYvGhC"},params:i,withCredentials:!0}).then(c.onSuccess).catch(c.onError))}catch(e){return Promise.reject(e)}},r.get=function(e,t,r){try{return Promise.resolve(this.request({method:"get",endPoint:e,params:t,responseType:r}))}catch(e){return Promise.reject(e)}},t}())("https://the-one-api.dev/v2"),n="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function o(e,t,r){if(!e.s){if(r instanceof i){if(!r.s)return void(r.o=o.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(o.bind(null,e,t),o.bind(null,e,2));e.s=t,e.v=r;var n=e.o;n&&n(e)}}var i=/*#__PURE__*/function(){function e(){}return e.prototype.then=function(t,r){var n=new e,i=this.s;if(i){var u=1&i?t:r;if(u){try{o(n,1,u(this.v))}catch(e){o(n,2,e)}return n}return this}return this.o=function(e){try{var i=e.v;1&e.s?o(n,1,t?t(i):i):r?o(n,1,r(i)):o(n,2,i)}catch(e){o(n,2,e)}},n},e}();function u(e){return e instanceof i&&1&e.s}var c=/*#__PURE__*/function(){function e(){this.resourceName="movie"}var c=e.prototype;return c.getMovies=function(){return r.get("/"+this.resourceName).then(function(e){if(void 0!==e)return e.docs})},c.getMovieById=function(e){return r.get("/"+this.resourceName+"/"+e).then(function(e){if(void 0!==e&&1===e.docs.length)return e.docs[0]})},c.getMovieQuotesById=function(e){try{var c=this;return Promise.resolve(r.get("/"+c.resourceName+"/"+e+"/quote").then(function(e){try{return Promise.resolve(function(){if(void 0!==e){var s=[],a=function(e,t,r){if("function"==typeof e[n]){var c,s,a,h=e[n]();if(function e(r){try{for(;!(c=h.next()).done;)if((r=t(c.value))&&r.then){if(!u(r))return void r.then(e,a||(a=o.bind(null,s=new i,2)));r=r.v}s?o(s,1,r):s=r}catch(e){o(s||(s=new i),2,e)}}(),h.return){var f=function(e){try{c.done||h.return()}catch(e){}return e};if(s&&s.then)return s.then(f,function(e){throw f(e)});f()}return s}if(!("length"in e))throw new TypeError("Object is not iterable");for(var v=[],d=0;d<e.length;d++)v.push(e[d]);return function(e,t,r){var n,c,s=-1;return function r(a){try{for(;++s<e.length;)if((a=t(s))&&a.then){if(!u(a))return void a.then(r,c||(c=o.bind(null,n=new i,2)));a=a.v}n?o(n,1,a):n=a}catch(e){o(n||(n=new i),2,e)}}(),n}(v,function(e){return t(v[e])})}(e.docs,function(e){return function(n,o){try{var i=Promise.resolve(c.getMovieById(e.movie).then(function(e){if(void 0!==e)return e.name})).then(function(n){return Promise.resolve(r.get("/character/"+e.character).then(function(e){if(void 0!==e&&1===e.docs.length)return e.docs[0].name})).then(function(r){s.push(t({},e,{movie:n||"",character:r||""}))})})}catch(e){return o(e)}return i&&i.then?i.then(void 0,o):i}(0,function(e){throw e})});return a&&a.then?a.then(function(e){return s}):s}}())}catch(e){return Promise.reject(e)}}))}catch(e){return Promise.reject(e)}},e}(),s=/*#__PURE__*/function(){function e(){this.resourceName="quote",this.movies=void 0,this.movies=new c}var n=e.prototype;return n.getQuoteById=function(e){try{var n=this;return Promise.resolve(r.get("/"+n.resourceName+"/"+e).then(function(e){try{return Promise.resolve(function(){if(void 0!==e&&1===e.docs.length)return function(o,i){try{var u=Promise.resolve(n.movies.getMovieById(e.docs[0].movie).then(function(e){if(void 0!==e)return e.name})).then(function(n){return Promise.resolve(r.get("/character/"+e.docs[0].character).then(function(e){if(void 0!==e&&1===e.docs.length)return e.docs[0].name})).then(function(r){return t({},e.docs[0],{movie:n||"",character:r||""})})})}catch(e){return i(e)}return u&&u.then?u.then(void 0,i):u}(0,function(e){throw e})}())}catch(e){return Promise.reject(e)}}))}catch(e){return Promise.reject(e)}},n.getQuotes=function(){try{return Promise.resolve(r.get("/"+this.resourceName).then(function(e){try{return void 0!==e?Promise.resolve(e.docs):Promise.resolve()}catch(e){return Promise.reject(e)}}))}catch(e){return Promise.reject(e)}},e}(),a=function(){this.movies=void 0,this.quotes=void 0,this.movies=new c,this.quotes=new s};export{a as LordOfTheRingSDK};

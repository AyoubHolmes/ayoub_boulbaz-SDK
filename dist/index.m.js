import t from"axios";function e(){return e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e.apply(this,arguments)}var r=new(/*#__PURE__*/function(){function t(t){this.baseUrl=void 0,this.baseUrl=t}var e=t.prototype;return e.onSuccess=function(t){return t.data},e.onError=function(t){throw null==t?void 0:t.message},e.request=function(t){var e=t.endPoint;try{throw/^https?:\/\//.test(e),"Bearer token not set"}catch(t){return Promise.reject(t)}},e.get=function(t,e,r){try{return Promise.resolve(this.request({method:"get",endPoint:t,params:e,responseType:r}))}catch(t){return Promise.reject(t)}},t}())("https://the-one-api.dev/v2"),n="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function o(t,e,r){if(!t.s){if(r instanceof i){if(!r.s)return void(r.o=o.bind(null,t,e));1&e&&(e=r.s),r=r.v}if(r&&r.then)return void r.then(o.bind(null,t,e),o.bind(null,t,2));t.s=e,t.v=r;var n=t.o;n&&n(t)}}var i=/*#__PURE__*/function(){function t(){}return t.prototype.then=function(e,r){var n=new t,i=this.s;if(i){var u=1&i?e:r;if(u){try{o(n,1,u(this.v))}catch(t){o(n,2,t)}return n}return this}return this.o=function(t){try{var i=t.v;1&t.s?o(n,1,e?e(i):i):r?o(n,1,r(i)):o(n,2,i)}catch(t){o(n,2,t)}},n},t}();function u(t){return t instanceof i&&1&t.s}var c=/*#__PURE__*/function(){function t(){this.resourceName="movie"}var c=t.prototype;return c.getMovies=function(){return r.get("/"+this.resourceName).then(function(t){if(void 0!==t)return t.docs})},c.getMovieById=function(t){return r.get("/"+this.resourceName+"/"+t).then(function(t){if(void 0!==t&&1===t.docs.length)return t.docs[0]})},c.getMovieQuotesById=function(t){try{var c=this;return Promise.resolve(r.get("/"+c.resourceName+"/"+t+"/quote").then(function(t){try{return Promise.resolve(function(){if(void 0!==t){var s=[],h=function(t,e,r){if("function"==typeof t[n]){var c,s,h,f=t[n]();if(function t(r){try{for(;!(c=f.next()).done;)if((r=e(c.value))&&r.then){if(!u(r))return void r.then(t,h||(h=o.bind(null,s=new i,2)));r=r.v}s?o(s,1,r):s=r}catch(t){o(s||(s=new i),2,t)}}(),f.return){var a=function(t){try{c.done||f.return()}catch(t){}return t};if(s&&s.then)return s.then(a,function(t){throw a(t)});a()}return s}if(!("length"in t))throw new TypeError("Object is not iterable");for(var v=[],d=0;d<t.length;d++)v.push(t[d]);return function(t,e,r){var n,c,s=-1;return function r(h){try{for(;++s<t.length;)if((h=e(s))&&h.then){if(!u(h))return void h.then(r,c||(c=o.bind(null,n=new i,2)));h=h.v}n?o(n,1,h):n=h}catch(t){o(n||(n=new i),2,t)}}(),n}(v,function(t){return e(v[t])})}(t.docs,function(t){return function(n,o){try{var i=Promise.resolve(c.getMovieById(t.movie).then(function(t){if(void 0!==t)return t.name})).then(function(n){return Promise.resolve(r.get("/character/"+t.character).then(function(t){if(void 0!==t&&1===t.docs.length)return t.docs[0].name})).then(function(r){s.push(e({},t,{movie:n||"",character:r||""}))})})}catch(t){return o(t)}return i&&i.then?i.then(void 0,o):i}(0,function(t){throw t})});return h&&h.then?h.then(function(t){return s}):s}}())}catch(t){return Promise.reject(t)}}))}catch(t){return Promise.reject(t)}},t}(),s=/*#__PURE__*/function(){function t(){this.resourceName="quote",this.movies=void 0,this.movies=new c}var n=t.prototype;return n.getQuoteById=function(t){try{var n=this;return Promise.resolve(r.get("/"+n.resourceName+"/"+t).then(function(t){try{return Promise.resolve(function(){if(void 0!==t&&1===t.docs.length)return function(o,i){try{var u=Promise.resolve(n.movies.getMovieById(t.docs[0].movie).then(function(t){if(void 0!==t)return t.name})).then(function(n){return Promise.resolve(r.get("/character/"+t.docs[0].character).then(function(t){if(void 0!==t&&1===t.docs.length)return t.docs[0].name})).then(function(r){return e({},t.docs[0],{movie:n||"",character:r||""})})})}catch(t){return i(t)}return u&&u.then?u.then(void 0,i):u}(0,function(t){throw t})}())}catch(t){return Promise.reject(t)}}))}catch(t){return Promise.reject(t)}},n.getQuotes=function(){try{return Promise.resolve(r.get("/"+this.resourceName).then(function(t){try{return void 0!==t?Promise.resolve(t.docs):Promise.resolve()}catch(t){return Promise.reject(t)}}))}catch(t){return Promise.reject(t)}},t}(),h=function(){this.movies=void 0,this.quotes=void 0,this.movies=new c,this.quotes=new s};export{h as LordOfTheRingSDK};

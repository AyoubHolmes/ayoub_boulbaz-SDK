import"axios";function t(){return t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},t.apply(this,arguments)}const e=new class{constructor(t){this.baseUrl=void 0,this.baseUrl=t}onSuccess(t){return t.data}onError(t){throw null==t?void 0:t.message}async request({endPoint:t}){throw/^https?:\/\//.test(t),"Bearer token not set"}async get(t,e,r){return await this.request({method:"get",endPoint:t,params:e,responseType:r})}}("https://the-one-api.dev/v2");class r{constructor(){this.resourceName="movie"}getMovies(){return e.get(`/${this.resourceName}`).then(t=>{if(void 0!==t)return t.docs})}getMovieById(t){return e.get(`/${this.resourceName}/${t}`).then(t=>{if(void 0!==t&&1===t.docs.length)return t.docs[0]})}async getMovieQuotesById(r){var o=this;return await e.get(`/${this.resourceName}/${r}/quote`).then(async function(r){if(void 0!==r){let s=[];for(const n of r.docs)try{let r=await o.getMovieById(n.movie).then(t=>{if(void 0!==t)return t.name}),i=await e.get(`/character/${n.character}`).then(t=>{if(void 0!==t&&1===t.docs.length)return t.docs[0].name});s.push(t({},n,{movie:r||"",character:i||""}))}catch(t){throw t}return s}})}}class o{constructor(){this.resourceName="quote",this.movies=void 0,this.movies=new r}async getQuoteById(r){var o=this;return await e.get(`/${this.resourceName}/${r}`).then(async function(r){if(void 0!==r&&1===r.docs.length)try{let s=await o.movies.getMovieById(r.docs[0].movie).then(t=>{if(void 0!==t)return t.name}),n=await e.get(`/character/${r.docs[0].character}`).then(t=>{if(void 0!==t&&1===t.docs.length)return t.docs[0].name});return t({},r.docs[0],{movie:s||"",character:n||""})}catch(t){throw t}})}async getQuotes(){return await e.get(`/${this.resourceName}`).then(async function(t){if(void 0!==t)return t.docs})}}class s{constructor(){this.movies=void 0,this.quotes=void 0,this.movies=new r,this.quotes=new o}}export{s as LordOfTheRingSDK};
